scene.onHitWall(SpriteKind.Player, function (sprite, location) {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        jumpTrack = 0
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (direction == 0) {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 1000, 0)
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 500, 50)
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, 500, -100)
    } else {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, -1000, 0)
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, -500, 50)
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . 8 2 8 . . . . . . 
            . . . . . . . 8 8 8 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, mySprite, -500, -100)
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jumpTrack < 2) {
        mySprite.vy = -100
        jumpTrack += 1
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        ..........22222.........
        ..........22222.........
        ..........22222.........
        ..........22222.........
        ..........22222.........
        ...........222..........
        ..2222.....222..........
        ..22222....222..........
        ..222222...222..........
        ...22222222222..........
        ....2222222222..........
        .....222222222..........
        ...........222..........
        ...........222..........
        ...........222..........
        ...........222..........
        ...........222..........
        .........222.222........
        .........222.222........
        .........222.222........
        ........................
        `)
    direction = 1
})
function boss_level_one () {
    tiles.setTilemap(tilemap`level2`)
    mySprite2 = sprites.create(img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ..............aaa...............
        .............aafaa..............
        ............aafffaa.............
        ............afffffaa............
        ...........aaffffffa............
        ..........aaf2fff2ffa...........
        .........aafffffffffaa..........
        ........aafffffffffffa..........
        ........affffffffffffa..........
        ........aaaafffffffffa..........
        .......aaaaaaaaaaaffaa..........
        ......aaaaaafffffaaaaaa.........
        ......aaaaafffffffaaaaa.........
        ......aaaaafffffffaaaaaa........
        .....aaaaaafffffffaaaaaa........
        .....aaaaaafffffffaaaaaa........
        .....aaaaaafffffffaaaaaa........
        ......aaaaafffffffaaaaaa........
        ......aaaaafffffffaaaaaa........
        ......aaaaafffffffaaaaaa........
        .......aaaafffffffaaaaa.........
        .......aaaaafffffffaaaa.........
        ........aaaaffffffffaaaa........
        ........aaaaafffffffaaaa........
        .......aaaaaaffffffffaaaa.......
        `, SpriteKind.Player)
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        ........................
        ........................
        ........................
        .........22222..........
        .........22222..........
        .........22222..........
        .........22222..........
        .........22222..........
        ..........222...........
        ..........222.....2222..
        ..........222....22222..
        ..........222...222222..
        ..........22222222222...
        ..........2222222222....
        ..........222222222.....
        ..........222...........
        ..........222...........
        ..........222...........
        ..........222...........
        ..........222...........
        ........222.222.........
        ........222.222.........
        ........222.222.........
        ........................
        `)
    direction = 0
})
let projectile2: Sprite = null
let mySprite2: Sprite = null
let projectile: Sprite = null
let direction = 0
let jumpTrack = 0
let mySprite: Sprite = null
info.setLife(3)
tiles.setTilemap(tilemap`level1`)
mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    .........22222..........
    .........22222..........
    .........22222..........
    .........22222..........
    .........22222..........
    ..........222...........
    ..........222.....2222..
    ..........222....22222..
    ..........222...222222..
    ..........22222222222...
    ..........2222222222....
    ..........222222222.....
    ..........222...........
    ..........222...........
    ..........222...........
    ..........222...........
    ..........222...........
    ........222.222.........
    ........222.222.........
    ........222.222.........
    ........................
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 100, 0)
tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 0))
scene.cameraFollowSprite(mySprite)
let mySprite3 = sprites.create(img`
    . 3 3 . . . . . . . . . . . . . 
    . . 3 3 . . 5 5 5 . . . . . . . 
    . . . . 5 5 f 5 5 5 5 . . . . . 
    . . . 5 5 5 5 5 5 5 5 . . . . . 
    . . . 5 f 5 5 5 5 5 5 5 . . . . 
    . . . 5 5 5 5 5 5 5 5 5 5 . . . 
    . . . . . . . . 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 5 5 5 5 . . . 
    . . 5 5 5 5 5 5 5 5 5 5 . . . . 
    . . . 5 5 5 5 5 5 5 5 5 . . . . 
    . . . 5 5 5 5 5 5 5 . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
tiles.placeOnTile(mySprite3, tiles.getTileLocation(31, 67))
jumpTrack = 0
direction = 0
tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 98))
game.onUpdateInterval(2000, function () {
    projectile2 = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 7 7 . . . . . . . 
        . . . . . . 7 1 7 7 . . . . . . 
        . . . . . . 7 7 1 7 . . . . . . 
        . . . . . . . 7 7 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, mySprite3, -50, 0)
})
forever(function () {
    mySprite.ay = 200
})
